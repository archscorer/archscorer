(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f19707d"],{"1ad2":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-layout",{staticClass:"d-flex justify-space-around",attrs:{wrap:""}},[r("Records")],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mt-5"},[r("v-card-title",[e._v("Records ")]),r("v-card-text",[r("v-row",[r("v-col",{staticClass:"flex-grow-1 flex-shrink-0",staticStyle:{"min-width":"180px","max-width":"100%"},attrs:{cols:"4"}},[r("v-select",{attrs:{dense:"",items:[{text:"--disabled--",value:null},{text:"Format",value:"format"},{text:"Class",value:"class"}],label:"organise archers by"},model:{value:e.group_by,callback:function(t){e.group_by=t},expression:"group_by"}})],1),e.user.perms&&e.user.perms.some((function(e){return"record"===e}))?r("v-col",{attrs:{cols:"2"}},[r("newRecord",{attrs:{record:e.record,vanilla:!0}})],1):e._e()],1),r("v-data-table",{attrs:{dense:"","mobile-breakpoint":300,headers:e.r_table_header,items:e.r_table,"items-per-page":50,"group-by":e.group_by,"multi-sort":""},scopedSlots:e._u([{key:"header.class",fn:function(t){var a=t.header;return[e._v(" "+e._s(a.text)+" "),r("tableColumnFilter",{attrs:{filter:e.filters.class},on:{"update:filter":function(t){return e.$set(e.filters,"class",t)}}})]}},{key:"header.score",fn:function(t){var a=t.header;return[e._v(" "+e._s(a.text)+" "),r("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",n,!1),a),[r("v-icon",{attrs:{small:"",color:e.filters.score.some((function(e){return""!==e}))?"primary":""}},[e._v(" mdi-filter ")])],1)]}}],null,!0),model:{value:e.menu_score,callback:function(t){e.menu_score=t},expression:"menu_score"}},[r("v-card",[r("v-card-text",[r("v-text-field",{attrs:{autofocus:"",type:"number",label:"Scores from"},model:{value:e.filters.score[0],callback:function(t){e.$set(e.filters.score,0,t)},expression:"filters.score[0]"}})],1),r("v-card-text",[r("v-text-field",{attrs:{type:"number",label:"Scores to"},model:{value:e.filters.score[1],callback:function(t){e.$set(e.filters.score,1,t)},expression:"filters.score[1]"}})],1),r("v-card-actions",[r("v-btn",{attrs:{small:"",text:"",color:"primary"},on:{click:function(t){e.filters.score=["",""]}}},[e._v("Clean")]),r("v-spacer"),r("v-btn",{attrs:{small:"",text:"",color:"secondary"},on:{click:function(t){e.menu_score=!1}}},[e._v("Close")])],1)],1)],1)]}},{key:"header.archer",fn:function(t){var a=t.header;return[e._v(" "+e._s(a.text)+" "),r("tableColumnFilter",{attrs:{filter:e.filters.archer},on:{"update:filter":function(t){return e.$set(e.filters,"archer",t)}}})]}},{key:"header.event",fn:function(t){var a=t.header;return[e._v(" "+e._s(a.text)+" "),r("tableColumnFilter",{attrs:{filter:e.filters.event},on:{"update:filter":function(t){return e.$set(e.filters,"event",t)}}})]}},{key:"header.scope",fn:function(t){var a=t.header;return[e._v(" "+e._s(a.text)+" "),r("tableColumnFilter",{attrs:{filter:e.filters.scope},on:{"update:filter":function(t){return e.$set(e.filters,"scope",t)}}})]}},{key:"header.date",fn:function(t){var a=t.header;return[e._v(" "+e._s(a.text)+" "),r("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",n,!1),a),[r("v-icon",{attrs:{small:"",color:e.filters.date.some((function(e){return""!==e}))?"primary":""}},[e._v(" mdi-filter ")])],1)]}}],null,!0),model:{value:e.menu_date,callback:function(t){e.menu_date=t},expression:"menu_date"}},[r("v-card",[r("v-card-text",[r("v-menu",{attrs:{"close-on-content-click":!1,top:"","min-width":"270px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{label:"Date from","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.filters.date[0],callback:function(t){e.$set(e.filters.date,0,t)},expression:"filters.date[0]"}},a))]}}],null,!0),model:{value:e.menu_date_from,callback:function(t){e.menu_date_from=t},expression:"menu_date_from"}},[r("v-date-picker",{on:{input:function(t){e.menu_date_from=!1}},model:{value:e.filters.date[0],callback:function(t){e.$set(e.filters.date,0,t)},expression:"filters.date[0]"}})],1),r("v-menu",{attrs:{"close-on-content-click":!1,top:"","min-width":"270px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{label:"Date to","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.filters.date[1],callback:function(t){e.$set(e.filters.date,1,t)},expression:"filters.date[1]"}},a))]}}],null,!0),model:{value:e.menu_date_to,callback:function(t){e.menu_date_to=t},expression:"menu_date_to"}},[r("v-date-picker",{on:{input:function(t){e.menu_date_to=!1}},model:{value:e.filters.date[1],callback:function(t){e.$set(e.filters.date,1,t)},expression:"filters.date[1]"}})],1)],1),r("v-card-actions",[r("v-btn",{attrs:{small:"",text:"",color:"primary"},on:{click:function(t){e.filters.date=["",""]}}},[e._v("Clean")]),r("v-spacer"),r("v-btn",{attrs:{small:"",text:"",color:"secondary"},on:{click:function(t){e.menu_date=!1}}},[e._v("Close")])],1)],1)],1)]}}])})],1)],1)},o=[],l=r("8f07"),c=r("5926"),i=r("2f62"),d={components:{tableColumnFilter:l["a"],newRecord:c["a"]},data:()=>({filters:{class:"",archer:"",event:"",scope:"",score:["",""],date:["",""]},menu_score:!1,menu_date:!1,menu_date_from:!1,menu_date_to:!1,format:{hunter:"IFAA Hunter",field:"IFAA Field",animal:"IFAA Animal (Marked distances)",flint:"IFAA Flint Indoor",indoor:"IFAA Indoor"},group_by:"format",record:{event:"",date:"",format:"",archer:"",age_group:"",gender:"",style:"",score:"",scope:""}}),computed:{...Object(i["d"])({records:e=>e.statistics.records,user:e=>e.user.user}),r_table_header(){return[{text:"Format",value:"format"},{text:"Class",value:"class",filter:e=>null!=e&&null!=this.filters.class&&-1!==e.toString().toLowerCase().indexOf(this.filters.class.toLowerCase()),width:"100px"},{text:"Score",value:"score",filter:e=>{if(this.filters.score.some(e=>""!==e)){if(""!==this.filters.score[0]&&""===this.filters.score[1])return e>=parseInt(this.filters.score[0]);if(""!==this.filters.score[1]&&""===this.filters.score[0])return e<=parseInt(this.filters.score[1]);if(this.filters.score.every(e=>""!==e))return parseInt(this.filters.score[0])<=e&&e<=parseInt(this.filters.score[1])}return null!=e}},{text:"Archer",value:"archer",filter:e=>null!=e&&null!=this.filters.archer&&-1!==e.toString().toLowerCase().indexOf(this.filters.archer.toLowerCase()),width:"175px"},{text:"Event",value:"event",filter:e=>null!=e&&null!=this.filters.event&&-1!==e.toString().toLowerCase().indexOf(this.filters.event.toLowerCase())},{text:"national/EU/W",value:"scope",filter:e=>null!=e&&null!=this.filters.scope&&-1!==e.toString().toLowerCase().indexOf(this.filters.scope.toLowerCase())},{text:"Date",value:"date",filter:e=>{if(this.filters.date.some(e=>""!==e)){if(""!==this.filters.date[0]&&""===this.filters.date[1])return e>=this.filters.date[0];if(""!==this.filters.date[1]&&""===this.filters.date[0])return e<=this.filters.date[1];if(this.filters.date.every(e=>""!==e))return this.filters.date[0]<=e&&e<=this.filters.date[1]}return null!=e},width:"120px"}]},r_table(){return this.records.length?this.records.map(e=>Object.assign({class:e.age_group+e.gender+e.style},e,{format:this.format[e.format]})):[]}}},u=d,f=(r("44d2"),r("2877")),v=r("6544"),p=r.n(v),m=r("8336"),_=r("b0af"),x=r("99d9"),h=r("62ad"),b=r("8fea"),y=r("2e4b"),k=r("132d"),g=r("e449"),w=r("0fd9"),C=r("b974"),V=r("2fa4"),A=r("8654"),S=Object(f["a"])(u,s,o,!1,null,"79c88a5d",null),$=S.exports;p()(S,{VBtn:m["a"],VCard:_["a"],VCardActions:x["a"],VCardText:x["c"],VCardTitle:x["d"],VCol:h["a"],VDataTable:b["a"],VDatePicker:y["a"],VIcon:k["a"],VMenu:g["a"],VRow:w["a"],VSelect:C["a"],VSpacer:V["a"],VTextField:A["a"]});var F={name:"StatisticsRecords",components:{Records:$},data:()=>({})},I=F,O=r("a523"),R=r("a722"),T=Object(f["a"])(I,a,n,!1,null,null,null);t["default"]=T.exports;p()(T,{VContainer:O["a"],VLayout:R["a"]})},"44d2":function(e,t,r){"use strict";r("671e")},5926:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"650px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[1==e.vanilla?r("v-btn",e._g({attrs:{color:"primary"},on:{click:function(t){return e.init_vanilla()}}},a),[e._v("Add Record")]):r("sup",e._g({staticClass:"font-weight-medium"},a),[e._v("R")])]}}]),model:{value:e.rec_dialog,callback:function(t){e.rec_dialog=t},expression:"rec_dialog"}},[r("v-card",[1==e.vanilla?r("v-card-title",[e._v("Add new record")]):r("v-card-title",[e._v("Exceeding current "+e._s(e.record["scope"])+" record")]),e.user.perms&&e.user.perms.some((function(e){return"record"===e}))?r("v-card-text",[e._l(["event","date","archer"],(function(t,a){return r("v-row",{key:"rec_s"+a,attrs:{dense:""}},[r("v-col",{staticClass:"text-uppercase text-end lowered"},[e._v(e._s(t)+":")]),r("v-col",[r("v-text-field",{attrs:{hint:e.hints[t],"append-icon":e.edit[t]?"mdi-pencil-outline":"mdi-pencil-off-outline",readonly:!e.edit[t],dense:""},on:{"click:append":function(r){e.edit[t]=!e.edit[t]}},model:{value:e.record[t],callback:function(r){e.$set(e.record,t,r)},expression:"record[attr]"}})],1)],1)})),r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"text-uppercase text-end lowered"},[e._v("class:")]),e._l(["age_group","gender","style"],(function(t,a){return r("v-col",{key:"rec_class"+a,attrs:{cols:"2"}},[r("v-text-field",{attrs:{hint:e.hints[t],"append-icon":e.edit[t]?"mdi-pencil-outline":"mdi-pencil-off-outline",readonly:!e.edit[t],dense:""},on:{"click:append":function(r){e.edit[t]=!e.edit[t]}},model:{value:e.record[t],callback:function(r){e.$set(e.record,t,r)},expression:"record[attr]"}})],1)}))],2),e._l(["score","scope","format"],(function(t,a){return r("v-row",{key:"rec_e"+a,attrs:{dense:""}},[r("v-col",{staticClass:"text-uppercase text-end lowered"},[e._v(e._s(t)+":")]),r("v-col",[r("v-text-field",{attrs:{hint:e.hints[t],"append-icon":e.edit[t]?"mdi-pencil-outline":"mdi-pencil-off-outline",readonly:!e.edit[t],dense:""},on:{"click:append":function(r){e.edit[t]=!e.edit[t]}},model:{value:e.record[t],callback:function(r){e.$set(e.record,t,r)},expression:"record[attr]"}})],1)],1)})),e.vanilla?e._e():r("v-row",[r("v-col",[r("p",{staticClass:"text-caption"},[e._v(" * This view will appear only for scores, that exceed current record, but are not yet registered by "+e._s(e.record["scope"])+" officials. ")])])],1)],2):r("v-card-text",[e._l(["event","date","archer"],(function(t,a){return r("v-row",{key:"rec_s"+a,attrs:{dense:""}},[r("v-col",{staticClass:"text-uppercase text-end lowered"},[e._v(e._s(t)+":")]),r("v-col",[r("v-text-field",{attrs:{readonly:"",dense:""},model:{value:e.record[t],callback:function(r){e.$set(e.record,t,r)},expression:"record[attr]"}})],1)],1)})),r("v-row",{attrs:{dense:""}},[r("v-col",{staticClass:"text-uppercase text-end lowered"},[e._v("class:")]),e._l(["age_group","gender","style"],(function(t,a){return r("v-col",{key:"rec_class"+a,attrs:{cols:"2"}},[r("v-text-field",{attrs:{readonly:"",dense:""},model:{value:e.record[t],callback:function(r){e.$set(e.record,t,r)},expression:"record[attr]"}})],1)}))],2),e._l(["score","scope","format"],(function(t,a){return r("v-row",{key:"rec_e"+a,attrs:{dense:""}},[r("v-col",{staticClass:"text-uppercase text-end lowered"},[e._v(e._s(t)+":")]),r("v-col",[r("v-text-field",{attrs:{readonly:"",dense:""},model:{value:e.record[t],callback:function(r){e.$set(e.record,t,r)},expression:"record[attr]"}})],1)],1)})),r("v-row",[r("v-col",[r("p",{staticClass:"text-caption"},[e._v(" * This view will appear only for scores, that exceed current record, but are not yet registered by "+e._s(e.record["scope"])+" officials. ")])])],1)],2),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){e.rec_dialog=!1}}},[e._v("Close")]),e.user.perms&&e.user.perms.some((function(e){return"record"===e}))?r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.addRecord(e.record),e.rec_dialog=!1}}},[e._v("Submit")]):e._e()],1)],1)],1)},n=[],s=r("2f62"),o={props:{record:Object,vanilla:Boolean},data:()=>({rec_dialog:!1,edit:{event:!1,date:!1,archer:!1,format:!1,age_group:!1,gender:!1,style:!1,score:!1,scope:!1},rules:{event:"",date:"",archer:"",format:"",age_group:"",gender:"",style:"",score:"",scope:""},hints:{event:"Event name",date:"valid data format expected yyyy-mm-dd",archer:"Archer full name",format:'one of "animal", "hunter", "field", "indoor" or "flint"',age_group:"Valid IFAA age group [C,J,YA,A,V,S]",gender:"M / F",style:"Valid IFAA bow style i.e. BB-R",score:"numeric value",scope:"For national records association acronym"}}),computed:{...Object(s["d"])({user:e=>e.user.user})},methods:{...Object(s["b"])("statistics",["addRecord"]),init_vanilla(){for(let e in this.edit)this.edit[e]=!0}}},l=o,c=(r("7bb0"),r("2877")),i=r("6544"),d=r.n(i),u=r("8336"),f=r("b0af"),v=r("99d9"),p=r("62ad"),m=r("169a"),_=r("0fd9"),x=r("2fa4"),h=r("8654"),b=Object(c["a"])(l,a,n,!1,null,"118eceea",null);t["a"]=b.exports;d()(b,{VBtn:u["a"],VCard:f["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VCol:p["a"],VDialog:m["a"],VRow:_["a"],VSpacer:x["a"],VTextField:h["a"]})},"671e":function(e,t,r){},"7bb0":function(e,t,r){"use strict";r("9e9a")},"8f07":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",n,!1),a),[r("v-icon",{attrs:{small:"",color:e.filter?"primary":""}},[e._v(" mdi-filter ")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-card",[r("v-card-text",[r("v-text-field",{attrs:{autofocus:"",label:"Enter filter query"},on:{input:function(t){return e.$emit("update:filter",e.query)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),r("v-card-actions",[r("v-btn",{attrs:{small:"",text:"",color:"primary"},on:{click:function(t){e.$emit("update:filter",""),e.query=""}}},[e._v("Clean")]),r("v-spacer"),r("v-btn",{attrs:{small:"",text:"",color:"secondary"},on:{click:function(t){e.menu=!1}}},[e._v("Close")])],1)],1)],1)},n=[],s={props:{filter:String},data:()=>({menu:!1,query:""})},o=s,l=r("2877"),c=r("6544"),i=r.n(c),d=r("8336"),u=r("b0af"),f=r("99d9"),v=r("132d"),p=r("e449"),m=r("2fa4"),_=r("8654"),x=Object(l["a"])(o,a,n,!1,null,null,null);t["a"]=x.exports;i()(x,{VBtn:d["a"],VCard:u["a"],VCardActions:f["a"],VCardText:f["c"],VIcon:v["a"],VMenu:p["a"],VSpacer:m["a"],VTextField:_["a"]})},"9e9a":function(e,t,r){}}]);
//# sourceMappingURL=chunk-7f19707d.5a7aacb2.js.map