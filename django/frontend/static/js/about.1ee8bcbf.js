(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0f13":function(e,t,n){"use strict";var s=n("c91f"),i=n.n(s);i.a},8836:function(e,t,n){},aa9c:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-card",[n("v-card-text",{staticClass:"pt-8 mt-5"},[n("EventsList"),n("small",[n("p",[e._v("events created by you are marked with '*'")])]),n("EventsAdd")],1)],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.user.id?n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[n("v-btn",e._g({attrs:{color:"secondary",dark:"",absolute:"",top:"",right:"",fab:""}},s),[n("v-icon",[e._v("mdi-plus")])],1)]}}],null,!1,569578594),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-stepper",{attrs:{"alt-labels":""},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("General info")]),n("v-divider"),n("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Rounds "),n("small",[e._v("Manage format")])]),n("v-divider"),n("v-stepper-step",{attrs:{step:"3"}},[e._v("Additional details "),n("small",[e._v("Allow registration, etc.")])])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-card",[n("v-card-title",[e._v("Add new archery event")]),n("v-card-text",[n("v-form",{model:{value:e.valid_e1,callback:function(t){e.valid_e1=t},expression:"valid_e1"}},[n("v-row",{attrs:{dense:""}},[n("v-col",[n("v-text-field",{attrs:{autofocus:"",rules:[function(e){return!!e||"Name is required"}],label:"Event name"},model:{value:e.event.name,callback:function(t){e.$set(e.event,"name",t)},expression:"event.name"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"270px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[n("v-text-field",e._g({attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:"",rules:[function(e){return!!e||"Start date is required"}]},model:{value:e.event.date_start,callback:function(t){e.$set(e.event,"date_start",t)},expression:"event.date_start"}},s))]}}],null,!1,3929971102),model:{value:e.date_start_menu,callback:function(t){e.date_start_menu=t},expression:"date_start_menu"}},[n("v-date-picker",{on:{input:function(t){e.date_start_menu=!1}},model:{value:e.event.date_start,callback:function(t){e.$set(e.event,"date_start",t)},expression:"event.date_start"}})],1)],1),n("v-col",{attrs:{cols:"6"}},[!1===e.multi_day?n("v-switch",{attrs:{label:"Multiple days?"},model:{value:e.multi_day,callback:function(t){e.multi_day=t},expression:"multi_day"}}):n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"270px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[n("v-text-field",e._g({attrs:{label:"End date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.event.date_end,callback:function(t){e.$set(e.event,"date_end",t)},expression:"event.date_end"}},s))]}}],null,!1,1688165335),model:{value:e.date_end_menu,callback:function(t){e.date_end_menu=t},expression:"date_end_menu"}},[n("v-date-picker",{on:{input:function(t){e.date_end_menu=!1}},model:{value:e.event.date_end,callback:function(t){e.$set(e.event,"date_end",t)},expression:"event.date_end"}})],1)],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{outlined:"",label:"Event details"},model:{value:e.event.description,callback:function(t){e.$set(e.event,"description",t)},expression:"event.description"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-btn",{attrs:{color:"primary",disabled:!e.valid_e1},on:{click:function(t){e.e1=2}}},[e._v("Next")])],1)],1)],1),n("v-stepper-content",{attrs:{step:"2"}},[n("v-card",[n("v-card-title",[e._v("Add rounds/course")]),n("v-card-text",[n("v-form",{model:{value:e.valid_e2,callback:function(t){e.valid_e2=t},expression:"valid_e2"}},[e._l(e.event.rounds,(function(t,s){return n("v-row",{key:s,attrs:{dense:""}},[n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Round description"},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("strong",{staticClass:"lowered"},[e._v(e._s(s+1)+".")])]},proxy:!0}],null,!0),model:{value:e.event.rounds[s].label,callback:function(t){e.$set(e.event.rounds[s],"label",t)},expression:"event.rounds[index].label"}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-autocomplete",{attrs:{rules:[function(e){return!!e||"Round course is mandatory"}],autocomplete:"",items:e.courses,label:"Round type","item-text":"name","item-value":"id"},model:{value:e.event.rounds[s].course,callback:function(t){e.$set(e.event.rounds[s],"course",t)},expression:"event.rounds[index].course"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-switch",{attrs:{label:e.event.rounds[s].is_open?"Open":""},model:{value:e.event.rounds[s].is_open,callback:function(t){e.$set(e.event.rounds[s],"is_open",t)},expression:"event.rounds[index].is_open"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"lowered",attrs:{text:"",color:"error",icon:"",fab:""},on:{click:function(t){return e.delRound(s)}}},[n("v-icon",{attrs:{size:"30"}},[e._v("mdi-minus")])],1)],1)],1)})),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"10"}}),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{text:"",color:"primary",icon:"",fab:""},on:{click:e.addRound}},[n("v-icon",{attrs:{size:"35"}},[e._v("mdi-plus")])],1)],1)],1)],2)],1),n("v-card-actions",[n("v-btn",{on:{click:function(t){e.e1=1}}},[e._v("Back")]),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-btn",{attrs:{color:"primary",disabled:!e.valid_e2},on:{click:function(t){e.e1=3}}},[e._v("Next")])],1)],1)],1),n("v-stepper-content",{attrs:{step:"3"}},[n("v-card",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"6"}},[n("v-autocomplete",{attrs:{autocomplete:"",items:e.event_type_choices,label:"Event visibility class"},model:{value:e.event.type,callback:function(t){e.$set(e.event,"type",t)},expression:"event.type"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-switch",{attrs:{label:e.event.is_open?"Registration is open*":"Registration is closed"},model:{value:e.event.is_open,callback:function(t){e.$set(e.event,"is_open",t)},expression:"event.is_open"}})],1)],1),n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12"}},["open"===e.event.type?n("v-alert",{attrs:{border:"bottom",type:"warning","colored-border":"",elevation:"2"}},[n("small",[n("p",[e._v(" 'Open' type of event is reserved for official / public archery events only. This type of event can be seen by everybody in the events page. ")])])]):e._e(),"club"===e.event.type?n("v-alert",{attrs:{border:"bottom",type:"info","colored-border":"",elevation:"2"}},[n("small",[n("p",[e._v(" 'Club' type of event should be used for club level events. Club members can see this type of events on events page. Archers outside the club can still register by event link. ")])])]):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"5"}},[n("v-switch",{attrs:{label:e.event.catering?"With catering**":"No catering"},model:{value:e.event.catering,callback:function(t){e.$set(e.event,"catering",t)},expression:"event.catering"}})],1),n("v-col",{attrs:{cols:"7"}},[e.event.catering?n("v-list",{attrs:{dense:"",flat:""}},[n("v-subheader",[e._v("Meals")]),e._l(e.event.catering_choices,(function(t,s){return n("v-list-item",{key:s,attrs:{inactive:""}},[n("v-list-item-content",[n("v-text-field",{attrs:{rules:[function(e){return!!e||"Write something"}],label:"meal (price)",counter:"25"},model:{value:e.event.catering_choices[s],callback:function(t){e.$set(e.event.catering_choices,s,t)},expression:"event.catering_choices[i]"}})],1),n("v-list-item-action",[n("v-btn",{attrs:{text:"",color:"error",icon:""},on:{click:function(t){return e.delMeal(s)}}},[n("v-icon",{attrs:{size:"35"}},[e._v("mdi-minus")])],1)],1)],1)})),n("v-list-item",{attrs:{inactive:""}},[n("v-list-item-content",[e._v(" Add meal ")]),n("v-list-item-action",[n("v-btn",{attrs:{text:"",color:"primary",icon:""},on:{click:e.addMeal}},[n("v-icon",{attrs:{size:"35"}},[e._v("mdi-plus")])],1)],1)],1)],2):e._e()],1)],1),n("small",[n("p",[e._v("* Events with 'Registration is open' can be found by event URL. Click 'Finish' first and then you can navigate to the event and copy the URL. The 'Open' events are discoverable by anyone on the "),n("router-link",{attrs:{to:"events"}},[e._v("Events page")]),e._v(". The 'Club' events are discoverable by the club memebers only.")],1),n("p",[e._v("** Catering options should be by meal.")])]),n("v-card-actions",[n("v-btn",{on:{click:function(t){e.e1=2}}},[e._v("Back")]),n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Close")]),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.addEvent(e.beforeSubmit()),e.dialog=!1,e.e1=1}}},[e._v("Finish")])],1)],1)],1)],1)],1)],1):e._e()},r=[],o=(n("a15b"),n("a434"),n("5530")),c=n("2f62"),l={data:function(){return{dialog:!1,e1:1,event:{name:"",date_start:(new Date).toISOString().substr(0,10),date_end:"",description:"",type:"private",is_open:!1,rounds:[{label:"",course:null,is_open:!0}],catering:!1,catering_choices:[""]},event_type_choices:[{text:"Private",value:"private"},{text:"Club",value:"club"},{text:"Open",value:"open"}],valid_e1:!1,date_start_menu:!1,date_end_menu:!1,multi_day:!1,valid_e2:!1}},watch:{multi_day:{handler:function(){this.event.date_end=this.event.date_start}}},computed:Object(o["a"])({dateRangeText:function(){return this.dates.join(" ~ ")}},Object(c["c"])({user:function(e){return e.user.user},courses:function(e){return e.courses.courses}})),methods:Object(o["a"])({addRound:function(){this.event.rounds.push({label:"",course:null,is_open:!0})},delRound:function(e){this.event.rounds.splice(e,1)},addMeal:function(){this.event.catering_choices.push("")},delMeal:function(e){this.event.catering_choices.splice(e,1)},beforeSubmit:function(){return(""===this.event.date_end||new Date(this.event.date_end)<new Date(this.event.date_start))&&(this.event.date_end=this.event.date_start),this.event.catering_choices=this.event.catering_choices.join("|"),this.event}},Object(c["b"])("events",["addEvent"])),created:function(){this.$store.dispatch("courses/getCourses")}},v=l,u=(n("0f13"),n("2877")),d=n("6544"),p=n.n(d),h=n("0798"),f=n("c6a6"),_=n("8336"),m=n("b0af"),b=n("99d9"),g=n("62ad"),y=n("2e4b"),x=n("169a"),k=n("ce7e"),V=n("4bd4"),w=n("132d"),C=n("8860"),$=n("da13"),S=n("1800"),A=n("5d23"),O=n("e449"),j=n("0fd9"),E=n("2fa4"),I=(n("4de4"),n("b0c0"),n("a9e3"),n("8836"),n("3206")),L=n("a452"),R=n("7560"),T=n("58df"),D=n("d9bd"),B=Object(T["a"])(Object(I["b"])("stepper"),L["a"],R["a"]),N=B.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,vertical:Boolean},data:function(){var e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes:function(){return Object(o["a"])({"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},this.themeClasses)}},watch:{internalValue:function(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(D["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister:function(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter((function(t){return t!==e})):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter((function(t){return t!==e})))},stepClick:function(e){var t=this;this.$nextTick((function(){return t.internalValue=e}))},updateView:function(){for(var e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(var t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render:function(e){return e("div",{staticClass:"v-stepper",class:this.classes},this.$slots.default)}}),M=(n("d3b7"),n("25f0"),n("0789")),P=n("80d2"),z=Object(T["a"])(Object(I["a"])("stepper","v-stepper-content","v-stepper")),F=z.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?M["f"]:M["g"]},styles:function(){return this.isVertical?{height:Object(P["g"])(this.height)}:{}}},watch:{isActive:function(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter:function(){var e=this,t=0;requestAnimationFrame((function(){t=e.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return e.isActive&&(e.height=t||"auto")}),450)},leave:function(){var e=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return e.height=0}),10)},toggle:function(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render:function(e){var t={staticClass:"v-stepper__content"},n={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);var s=e("div",n,[this.$slots.default]),i=e("div",t,[s]);return e(this.computedTransition,{on:this.$listeners},[i])}}),H=(n("45fc"),n("9d26")),q=n("a9ad"),J=n("5607"),U=Object(T["a"])(q["a"],Object(I["a"])("stepper","v-stepper-step","v-stepper")),W=U.extend().extend({name:"v-stepper-step",directives:{ripple:J["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(e){return!0!==e()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon:function(e){return this.$createElement(H["a"],e)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},toggle:function(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render:function(e){return e("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}}),G=Object(P["i"])("v-stepper__header"),K=Object(P["i"])("v-stepper__items"),Q=n("e0c7"),X=n("b73d"),Y=n("8654"),Z=n("a844"),ee=Object(u["a"])(v,a,r,!1,null,"25f67fee",null),te=ee.exports;p()(ee,{VAlert:h["a"],VAutocomplete:f["a"],VBtn:_["a"],VCard:m["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:g["a"],VDatePicker:y["a"],VDialog:x["a"],VDivider:k["a"],VForm:V["a"],VIcon:w["a"],VList:C["a"],VListItem:$["a"],VListItemAction:S["a"],VListItemContent:A["a"],VMenu:O["a"],VRow:j["a"],VSpacer:E["a"],VStepper:N,VStepperContent:F,VStepperHeader:G,VStepperItems:K,VStepperStep:W,VSubheader:Q["a"],VSwitch:X["a"],VTextField:Y["a"],VTextarea:Z["a"]});var ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",e._l(e.events_list,(function(t,s){return n("v-list",{key:s,staticClass:"my-2",attrs:{subheader:"",dense:""}},[t.length?n("v-subheader",{staticClass:"text-overline font-weight-black"},[e._v(e._s("ongoing"===s?"Held today":s+" events"))]):e._e(),e._l(t,(function(t){return n("v-list-item",{key:"event"+t.id,attrs:{to:{name:"event",params:{id:t.id}}}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name)+" "),n("span",{staticClass:"text-overline"},[e._v(e._s(t.indays?t.indays:""))]),e._v(" "+e._s(t.creator==e.user.email?"*":""))]),n("v-list-item-subtitle",[t.date_start!=t.date_end?[e._v(" from "+e._s(t.date_start)+" to "+e._s(t.date_end)+" ")]:[e._v(" on "+e._s(t.date_start)+" ")],e._v(" / "+e._s(Array.isArray(t.participants)?t.participants.length:t.participants)+" participant(s) ")],2)],1),n("v-list-item-action",["private"!==t.type?n("v-chip",{attrs:{color:e.chip_color(t.type)},domProps:{textContent:e._s(t.type)}}):e._e()],1)],1)}))],2)})),1)},se=[],ie=n("b85c"),ae={computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({events:function(e){return e.events.events},user:function(e){return e.user.user}})),{},{events_list:function(){var e={upcoming:[],ongoing:[],past:[]};if(this.events){var t,n=Object(ie["a"])(this.events);try{for(n.s();!(t=n.n()).done;){var s=t.value;if(new Date(s.date_start)>new Date){var i=Math.ceil(Math.abs(new Date(s.date_start)-new Date)/864e5);s.indays=i>1?" (in "+i+" days)":" (tomorrow)",e.upcoming.push(s)}else new Date(s.date_end).setHours(23,59)<new Date?e.past.push(s):e.ongoing.push(s)}}catch(a){n.e(a)}finally{n.f()}}return e}}),methods:{chip_color:function(e){return"open"===e?"primary":"club"===e?"secondary":""}},created:function(){this.$store.dispatch("events/getEvents")}},re=ae,oe=n("cc20"),ce=n("a523"),le=Object(u["a"])(re,ne,se,!1,null,null,null),ve=le.exports;p()(le,{VChip:oe["a"],VContainer:ce["a"],VList:C["a"],VListItem:$["a"],VListItemAction:S["a"],VListItemContent:A["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VSubheader:Q["a"]});var ue={name:"Events",components:{EventsAdd:te,EventsList:ve},data:function(){return{}}},de=ue,pe=Object(u["a"])(de,s,i,!1,null,null,null);t["default"]=pe.exports;p()(pe,{VCard:m["a"],VCardText:b["c"],VContainer:ce["a"]})},c91f:function(e,t,n){}}]);
//# sourceMappingURL=about.1ee8bcbf.js.map