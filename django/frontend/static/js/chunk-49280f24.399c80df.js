(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49280f24"],{b16b:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{autofocus:"",label:"Your full name*",rules:[function(e){return!!e||"This field is required"}]},model:{value:e.value.full_name,callback:function(t){e.$set(e.value,"full_name",t)},expression:"value.full_name"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:[{text:"Male",value:"M"},{text:"Female",value:"F"}],label:"Gender*",rules:[function(e){return!!e||"Choice must be made :)"}]},model:{value:e.value.gender,callback:function(t){e.$set(e.value,"gender",t)},expression:"value.gender"}})],1),a("v-col",{attrs:{cols:"4"}},[e.clubs?a("v-select",{attrs:{disabled:!(!e.value.events||!e.value.events.length),items:e.clubs,label:"Choose Club*",rules:[function(e){return!!e||"Choose ..no club.. if other options are not suitable"}],"item-text":"name","item-value":"id"},model:{value:e.value.club,callback:function(t){e.$set(e.value,"club",t)},expression:"value.club"}}):e._e()],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Contact email address*",rules:[function(e){return!!e||"This field is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]},model:{value:e.value.email,callback:function(t){e.$set(e.value,"email",t)},expression:"value.email"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Contact phone number"},model:{value:e.value.phone,callback:function(t){e.$set(e.value,"phone",t)},expression:"value.phone"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Archer national ID",hint:"FAAE ID in Estonia - first 7 digits from your national ID code."},model:{value:e.value.nat_id,callback:function(t){e.$set(e.value,"nat_id",t)},expression:"value.nat_id"}})],1)],1)],1)},i=[],n={props:{value:Object,clubs:Array}},r=n,c=a("2877"),s=a("6544"),o=a.n(s),u=a("62ad"),d=a("a523"),b=a("0fd9"),m=a("b974"),v=a("8654"),f=Object(c["a"])(r,l,i,!1,null,null,null);t["a"]=f.exports;o()(f,{VCol:u["a"],VContainer:d["a"],VRow:b["a"],VSelect:m["a"],VTextField:v["a"]})},b6396:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.club?a("v-container",[a("v-card",[a("v-card-title",{domProps:{textContent:e._s(e.club.name+" ("+e.club.name_short+")")}}),a("v-card-text",[a("p",{domProps:{innerHTML:e._s(e.club.contact)}}),a("p",{domProps:{innerHTML:e._s(e.club.description)}}),e.user_is_member_or_admin?[a("v-row",[a("v-col",{attrs:{cols:"8"}},[e.club.admins.includes(e.user.email)?[a("clubEdit"),a("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(t){return e.addA()}}},[e._v("Add member")])]:e._e()],2),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search member","single-line":"","hide-details":""},model:{value:e.m_search,callback:function(t){e.m_search=t},expression:"m_search"}})],1)],1),a("v-data-table",{attrs:{dense:"",headers:e.m_table_header,items:e.m_table,search:e.m_search,"items-per-page":50,"multi-sort":""},scopedSlots:e._u([{key:"item.ops",fn:function(t){return[e.club.admins.includes(e.user.email)?[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editA(t.item.id)}}},[e._v(" mdi-pencil ")]),t.item.events?e._e():a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteA(t.item.id)}}},[e._v(" mdi-delete ")])]:e._e()]}}],null,!1,1003564087)})]:a("p",[e._v(" Club member list is visible only to club members and club administrators. Also you need to be logged in! ")])],2)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[e._v("Edit Archer profile")]),a("v-card-text",[a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("archerDetails",{attrs:{clubs:[{name:"*_kick out_*",id:1},e.club]},model:{value:e.a_edit,callback:function(t){e.a_edit=t},expression:"a_edit"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.putMember(e.a_edit),e.dialog=!1}}},[e._v(e._s(e.action))])],1)],1)],1)],1):a("v-overlay",[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},i=[],n=a("5530"),r=(a("caad"),a("2532"),a("d81d"),a("7db0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},scopedSlots:e._u([{key:"activator",fn:function(t){var l=t.on;return[a("v-btn",e._g({staticClass:"mx-2",attrs:{color:"warning"},on:{click:function(t){return e.c_edit()}}},l),[e._v("Edit club")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Edit "+e._s(e.club.name))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.putClub(e.club),e.dialog=!1}}},[e._v("Save")])],1)],1),a("v-card",{staticClass:"ma-5"},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{outlined:"",label:"Contact information","auto-grow":""},model:{value:e.club.contact,callback:function(t){e.$set(e.club,"contact",t)},expression:"club.contact"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{outlined:"",label:"Club description","auto-grow":""},model:{value:e.club.description,callback:function(t){e.$set(e.club,"description",t)},expression:"club.description"}})],1)],1)],1)],1)],1)],1)}),c=[],s=a("2f62"),o={data:function(){return{dialog:!1,club:{}}},computed:{p_club:function(){return this.$store.getters["clubs/clubById"](parseInt(this.$route.params.id))}},methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])("clubs",["putClub"])),{},{c_edit:function(){this.club=Object.assign({},this.p_club)}})},u=o,d=a("2877"),b=a("6544"),m=a.n(b),v=a("8336"),f=a("b0af"),h=a("99d9"),p=a("62ad"),_=a("169a"),x=a("132d"),g=a("0fd9"),V=a("2fa4"),k=a("a844"),C=a("71d9"),y=a("2a7f"),w=Object(d["a"])(u,r,c,!1,null,null,null),A=w.exports;m()(w,{VBtn:v["a"],VCard:f["a"],VCardText:h["c"],VCol:p["a"],VDialog:_["a"],VIcon:x["a"],VRow:g["a"],VSpacer:V["a"],VTextarea:k["a"],VToolbar:C["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var $=a("b16b"),O={components:{clubEdit:A,archerDetails:$["a"]},data:function(){return{m_search:"",valid:!1,action:"",dialog:!1,a_edit:{}}},computed:Object(n["a"])(Object(n["a"])({},Object(s["d"])({user:function(e){return e.user.user}})),{},{club:function(){return this.$store.getters["clubs/clubById"](parseInt(this.$route.params.id))},m_table_header:function(){var e=[{text:"Name",value:"full_name"},{text:"Activity",value:"events",width:"90px"}];return this.club.admins.includes(this.user.email)&&e.push.apply(e,[{text:"Gender",value:"gender"},{text:"E-mail",value:"email"},{text:"Phone",value:"phone"},{text:"National ID",value:"nat_id"},{text:"Edit",value:"ops",sortable:!1,width:"80px"}]),e},m_table:function(){return Array.isArray(this.club.members)?this.club.members.map((function(e){var t={full_name:e.full_name,events:e.events.length?e.events.length:null};return this.club.admins.includes(this.user.email)?Object.assign(t,{id:e.id,gender:e.gender,email:e.email,phone:e.phone,nat_id:e.nat_id}):t}),this):[]},user_is_member_or_admin:function(){return!(!this.user.id||""===this.user.email)&&(!!this.club.admins.includes(this.user.email)||!!Array.isArray(this.club.members)&&(this.club.members.map((function(e){return e.email})).includes(this.user.email)||this.club.members.map((function(e){return e.email})).includes(this.user.archer.email)))}}),methods:Object(n["a"])(Object(n["a"])({},Object(s["b"])("clubs",["putMember","delMember"])),{},{editA:function(e){this.a_edit=this.club.members.find((function(t){return t.id===e})),this.action="Save changes",this.dialog=!0},deleteA:function(e){var t=this.club.members.find((function(t){return t.id===e}));confirm(t.full_name+" will be permanently deleted. This action can not be undone!")&&this.delMember({aId:t.id,cId:t.club})},addA:function(){this.a_edit={id:null,full_name:"",gender:"",club:this.club.id,email:"",phone:"",nat_id:""},this.action="Add archer",this.dialog=!0}}),created:function(){var e=this;this.$store.dispatch("clubs/updateClub",parseInt(this.$route.params.id)).catch((function(){e.$router.push("/clubs")}))}},T=O,j=a("a523"),I=a("8fea"),E=a("4bd4"),D=a("a797"),M=a("490a"),S=a("8654"),F=Object(d["a"])(T,l,i,!1,null,null,null);t["default"]=F.exports;m()(F,{VBtn:v["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:p["a"],VContainer:j["a"],VDataTable:I["a"],VDialog:_["a"],VForm:E["a"],VIcon:x["a"],VOverlay:D["a"],VProgressCircular:M["a"],VRow:g["a"],VSpacer:V["a"],VTextField:S["a"]})}}]);
//# sourceMappingURL=chunk-49280f24.399c80df.js.map