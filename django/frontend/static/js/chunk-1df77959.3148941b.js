(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1df77959"],{"0fd9":function(t,e,i){"use strict";i("4b85");var a=i("2b0e"),s=i("d9f7"),n=i("80d2");const l=["sm","md","lg","xl"],o=["start","end","center"];function r(t,e){return l.reduce((i,a)=>(i[t+Object(n["G"])(a)]=e(),i),{})}const c=t=>[...o,"baseline","stretch"].includes(t),u=r("align",()=>({type:String,default:null,validator:c})),d=t=>[...o,"space-between","space-around"].includes(t),h=r("justify",()=>({type:String,default:null,validator:d})),m=t=>[...o,"space-between","space-around","stretch"].includes(t),v=r("alignContent",()=>({type:String,default:null,validator:m})),b={align:Object.keys(u),justify:Object.keys(h),alignContent:Object.keys(v)},f={align:"align",justify:"justify",alignContent:"align-content"};function p(t,e,i){let a=f[t];if(null!=i){if(e){const i=e.replace(t,"");a+="-"+i}return a+="-"+i,a.toLowerCase()}}const g=new Map;e["a"]=a["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...u,justify:{type:String,default:null,validator:d},...h,alignContent:{type:String,default:null,validator:m},...v},render(t,{props:e,data:i,children:a}){let n="";for(const s in e)n+=String(e[s]);let l=g.get(n);if(!l){let t;for(t in l=[],b)b[t].forEach(i=>{const a=e[i],s=p(t,i,a);s&&l.push(s)});l.push({"no-gutters":e.noGutters,"row--dense":e.dense,["align-"+e.align]:e.align,["justify-"+e.justify]:e.justify,["align-content-"+e.alignContent]:e.alignContent}),g.set(n,l)}return t(e.tag,Object(s["a"])(i,{staticClass:"row",class:l}),a)}})},1681:function(t,e,i){},"169a":function(t,e,i){"use strict";i("368e");var a=i("480e"),s=i("4ad4"),n=i("b848"),l=i("75eb"),o=i("e707"),r=i("e4d3"),c=i("21be"),u=i("f2e7"),d=i("a293"),h=i("58df"),m=i("d9bd"),v=i("80d2");const b=Object(h["a"])(s["a"],n["a"],l["a"],o["a"],r["a"],c["a"],u["a"]);e["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:d["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[("v-dialog "+this.contentClass).trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(m["e"])("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):o["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$nextTick(()=>{this.previousActiveElement=document.activeElement,this.$refs.content.focus(),this.bind()})})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(t){if(t.keyCode===v["y"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(t=>t.contains(e))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),e=[...t].find(t=>!t.hasAttribute("disabled"));e&&e.focus()}},genContent(){return this.showLazyContent(()=>[this.$createElement(a["a"],{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"document",tabindex:this.isActive?0:void 0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])])},genTransition(){const t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent(){const t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style={...t.style,maxWidth:"none"===this.maxWidth?void 0:Object(v["h"])(this.maxWidth),width:"auto"===this.width?void 0:Object(v["h"])(this.width)}),this.$createElement("div",t,this.getContentSlot())}},render(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(t,e,i){},"4bd4":function(t,e,i){"use strict";var a=i("58df"),s=i("7e2b"),n=i("3206");e["a"]=Object(a["a"])(s["a"],Object(n["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),i={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(i.valid=e(t)))}):i.valid=e(t),i},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const i=this.watchers.find(t=>t._uid===e._uid);i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"62ad":function(t,e,i){"use strict";i("4b85");var a=i("2b0e"),s=i("d9f7"),n=i("80d2");const l=["sm","md","lg","xl"],o=(()=>l.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),r=(()=>l.reduce((t,e)=>(t["offset"+Object(n["G"])(e)]={type:[String,Number],default:null},t),{}))(),c=(()=>l.reduce((t,e)=>(t["order"+Object(n["G"])(e)]={type:[String,Number],default:null},t),{}))(),u={col:Object.keys(o),offset:Object.keys(r),order:Object.keys(c)};function d(t,e,i){let a=t;if(null!=i&&!1!==i){if(e){const i=e.replace(t,"");a+="-"+i}return"col"!==t||""!==i&&!0!==i?(a+="-"+i,a.toLowerCase()):a.toLowerCase()}}const h=new Map;e["a"]=a["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:i,children:a,parent:n}){let l="";for(const s in e)l+=String(e[s]);let o=h.get(l);if(!o){let t;for(t in o=[],u)u[t].forEach(i=>{const a=e[i],s=d(t,i,a);s&&o.push(s)});const i=o.some(t=>t.startsWith("col-"));o.push({col:!i||!e.cols,["col-"+e.cols]:e.cols,["offset-"+e.offset]:e.offset,["order-"+e.order]:e.order,["align-self-"+e.alignSelf]:e.alignSelf}),h.set(l,o)}return t(e.tag,Object(s["a"])(i,{class:o}),a)}})},a844:function(t,e,i){"use strict";i("1681");var a=i("8654"),s=i("58df");const n=Object(s["a"])(a["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},b16b:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{autofocus:"",label:"Your full name*",rules:[function(t){return!!t||"This field is required"}]},model:{value:t.value.full_name,callback:function(e){t.$set(t.value,"full_name",e)},expression:"value.full_name"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-select",{attrs:{items:[{text:"Male",value:"M"},{text:"Female",value:"F"}],label:"Gender*",rules:[function(t){return!!t||"Choice must be made :)"}]},model:{value:t.value.gender,callback:function(e){t.$set(t.value,"gender",e)},expression:"value.gender"}})],1),i("v-col",{attrs:{cols:"4"}},[t.clubs?i("v-select",{attrs:{disabled:!(!t.value.events||!t.value.events.length),items:t.clubs,label:"Choose Club*",rules:[function(t){return!!t||"Choose ..no club.. if other options are not suitable"}],"item-text":"name","item-value":"id"},model:{value:t.value.club,callback:function(e){t.$set(t.value,"club",e)},expression:"value.club"}}):t._e()],1)],1),i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Contact email address*",rules:[function(t){return!!t||"This field is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}]},model:{value:t.value.email,callback:function(e){t.$set(t.value,"email",e)},expression:"value.email"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Contact phone number"},model:{value:t.value.phone,callback:function(e){t.$set(t.value,"phone",e)},expression:"value.phone"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Archer national ID",hint:"FAAE ID in Estonia - first 7 digits from your national ID code."},model:{value:t.value.nat_id,callback:function(e){t.$set(t.value,"nat_id",e)},expression:"value.nat_id"}})],1)],1)],1)},s=[],n={props:{value:Object,clubs:Array}},l=n,o=i("2877"),r=i("6544"),c=i.n(r),u=i("62ad"),d=i("a523"),h=i("0fd9"),m=i("b974"),v=i("8654"),b=Object(o["a"])(l,a,s,!1,null,null,null);e["a"]=b.exports;c()(b,{VCol:u["a"],VContainer:d["a"],VRow:h["a"],VSelect:m["a"],VTextField:v["a"]})},b6396:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.club?i("v-container",[i("v-card",[i("v-card-title",{domProps:{textContent:t._s(t.club.name+" ("+t.club.name_short+")")}}),i("v-card-text",[i("p",{domProps:{innerHTML:t._s(t.club.contact)}}),i("p",{domProps:{innerHTML:t._s(t.club.description)}}),t.user_is_member_or_admin?[i("v-row",[i("v-col",{attrs:{cols:"8"}},[t.club.admins.includes(t.user.email)?[i("clubEdit"),i("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(e){return t.addA()}}},[t._v("Add member")])]:t._e()],2),i("v-col",{attrs:{cols:"4"}},[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search member","single-line":"","hide-details":""},model:{value:t.m_search,callback:function(e){t.m_search=e},expression:"m_search"}})],1)],1),i("v-data-table",{attrs:{dense:"",headers:t.m_table_header,items:t.m_table,search:t.m_search,"items-per-page":50,"multi-sort":""},scopedSlots:t._u([{key:"item.ops",fn:function(e){return[t.club.admins.includes(t.user.email)?[i("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(i){return t.editA(e.item.id)}}},[t._v(" mdi-pencil ")]),e.item.events?t._e():i("v-icon",{attrs:{small:""},on:{click:function(i){return t.deleteA(e.item.id)}}},[t._v(" mdi-delete ")])]:t._e()]}}],null,!1,1003564087)})]:i("p",[t._v(" Club member list is visible only to club members and club administrators. Also you need to be logged in! ")])],2)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[t._v("Edit Archer profile")]),i("v-card-text",[i("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("archerDetails",{attrs:{clubs:[{name:"*_kick out_*",id:1},t.club]},model:{value:t.a_edit,callback:function(e){t.a_edit=e},expression:"a_edit"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.putMember(t.a_edit),t.dialog=!1}}},[t._v(t._s(t.action))])],1)],1)],1)],1):i("v-overlay",[i("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({staticClass:"mx-2",attrs:{color:"warning"},on:{click:function(e){return t.c_edit()}}},a),[t._v("Edit club")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("mdi-close")])],1),i("v-toolbar-title",[t._v("Edit "+t._s(t.club.name))]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.putClub(t.club),t.dialog=!1}}},[t._v("Save")])],1)],1),i("v-card",{staticClass:"ma-5"},[i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-textarea",{attrs:{outlined:"",label:"Contact information","auto-grow":""},model:{value:t.club.contact,callback:function(e){t.$set(t.club,"contact",e)},expression:"club.contact"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-textarea",{attrs:{outlined:"",label:"Club description","auto-grow":""},model:{value:t.club.description,callback:function(e){t.$set(t.club,"description",e)},expression:"club.description"}})],1)],1)],1)],1)],1)],1)},l=[],o=i("2f62"),r={data:()=>({dialog:!1,club:{}}),computed:{p_club(){return this.$store.getters["clubs/clubById"](parseInt(this.$route.params.id))}},methods:{...Object(o["b"])("clubs",["putClub"]),c_edit(){this.club=Object.assign({},this.p_club)}}},c=r,u=i("2877"),d=i("6544"),h=i.n(d),m=i("8336"),v=i("b0af"),b=i("99d9"),f=i("62ad"),p=i("169a"),g=i("132d"),_=i("0fd9"),y=i("2fa4"),w=i("a844"),x=i("71d9"),C=i("2a7f"),k=Object(u["a"])(c,n,l,!1,null,null,null),$=k.exports;h()(k,{VBtn:m["a"],VCard:v["a"],VCardText:b["c"],VCol:f["a"],VDialog:p["a"],VIcon:g["a"],VRow:_["a"],VSpacer:y["a"],VTextarea:w["a"],VToolbar:x["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var A=i("b16b"),O={components:{clubEdit:$,archerDetails:A["a"]},data:()=>({m_search:"",valid:!1,action:"",dialog:!1,a_edit:{}}),computed:{...Object(o["d"])({user:t=>t.user.user}),club(){return this.$store.getters["clubs/clubById"](parseInt(this.$route.params.id))},m_table_header(){let t=[{text:"Name",value:"full_name"},{text:"Activity",value:"events",width:"90px"}];return this.club.admins.includes(this.user.email)&&t.push({text:"Gender",value:"gender"},{text:"E-mail",value:"email"},{text:"Phone",value:"phone"},{text:"National ID",value:"nat_id"},{text:"Edit",value:"ops",sortable:!1,width:"80px"}),t},m_table(){return Array.isArray(this.club.members)?this.club.members.map((function(t){let e={full_name:t.full_name,events:t.events.length?t.events.length:null};return this.club.admins.includes(this.user.email)?Object.assign(e,{id:t.id,gender:t.gender,email:t.email,phone:t.phone,nat_id:t.nat_id}):e}),this):[]},user_is_member_or_admin(){return!(!this.user.id||""===this.user.email)&&(!!this.club.admins.includes(this.user.email)||!!Array.isArray(this.club.members)&&(this.club.members.map(t=>t.email).includes(this.user.email)||this.club.members.map(t=>t.email).includes(this.user.archer.email)))}},methods:{...Object(o["b"])("clubs",["putMember","delMember"]),editA(t){this.a_edit=this.club.members.find(e=>e.id===t),this.action="Save changes",this.dialog=!0},deleteA(t){let e=this.club.members.find(e=>e.id===t);confirm(e.full_name+" will be permanently deleted. This action can not be undone!")&&this.delMember({aId:e.id,cId:e.club})},addA(){this.a_edit={id:null,full_name:"",gender:"",club:this.club.id,email:"",phone:"",nat_id:""},this.action="Add archer",this.dialog=!0}},created(){this.$store.dispatch("clubs/updateClub",parseInt(this.$route.params.id)).catch(()=>{this.$router.push("/clubs")})}},S=O,V=i("a523"),I=i("8fea"),j=i("4bd4"),B=i("a797"),E=i("490a"),T=i("8654"),N=Object(u["a"])(S,a,s,!1,null,null,null);e["default"]=N.exports;h()(N,{VBtn:m["a"],VCard:v["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VCol:f["a"],VContainer:V["a"],VDataTable:I["a"],VDialog:p["a"],VForm:j["a"],VIcon:g["a"],VOverlay:B["a"],VProgressCircular:E["a"],VRow:_["a"],VSpacer:y["a"],VTextField:T["a"]})}}]);
//# sourceMappingURL=chunk-1df77959.3148941b.js.map